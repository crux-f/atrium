# Runs from hold_chargeable_item
#
# If there are items in the two left-most slot and the right-most slot of your hotbar that are not power slots, drop them.
execute if data entity @s {Inventory:[{Slot:0b}]} unless data entity @s {Inventory:[{Slot:0b,tag:{atrium_power:1b}}]} run function atrium:items/slot_control/drop_item_0
execute if data entity @s {Inventory:[{Slot:8b}]} unless data entity @s {Inventory:[{Slot:8b,tag:{atrium_power:1b}}]} run function atrium:items/slot_control/drop_item_8
execute if data entity @s {Inventory:[{Slot:1b}]} unless data entity @s {Inventory:[{Slot:1b,tag:{atrium_power:1b}}]} run function atrium:items/slot_control/drop_item_1
execute if data entity @s {Inventory:[{Slot:7b}]} unless data entity @s {Inventory:[{Slot:7b,tag:{atrium_power:1b}}]} run function atrium:items/slot_control/drop_item_7
# ^ These are for new spells later
# Now that the slots are empty (items cannot be picked up again for 2 ticks), give the caster their spell options.
#
#
# Air | Slot 0: Air Sigil | Slot 8: Increase Velocity | Slot 1: Inhale | Slot 7: Exhale | Slot 4: Dance
execute if data entity @s {Inventory:[{Slot:-106b,tag:{atrium_air_staff:1b}}]} run item replace entity @s hotbar.0 with minecraft:firework_star{display:{Name:'{"text":"Spell: Air Sigil II","color":"gray","italic":false}',Lore:['{"text":"When Cast:","color":"gray","italic":false}','{"text":"A 1-block radius wind column"}','{"text":"is created at your location for"}','{"text":"24 seconds. The column"}','{"text":"levitates entities for "}','{"text":"2 seconds each time they enter"}','{"text":"the column. Additionally,"}','{"text":"the column causes arrows"}','{"text":"that fly into it to be"}','{"text":"thrown directly upwards."}']},atrium_power_slot:0b,atrium_power:1b,CustomModelData:333004} 1
execute if data entity @s {Inventory:[{Slot:-106b,tag:{atrium_air_staff:1b}}]} run item replace entity @s hotbar.8 with minecraft:firework_star{display:{Name:'{"text":"Spell: Increase Velocity II","color":"gray","italic":false}',Lore:['{"text":"When Cast:","color":"gray","italic":false}','{"text":"Grants the caster Jump Boost II"}','{"text":"for 120 seconds, or Speed II"}','{"text":"for 120 seconds if the caster"}','{"text":"is Sprinting."}']},atrium_power_slot:8b,atrium_power:1b,CustomModelData:333005} 1
execute if data entity @s {Inventory:[{Slot:-106b,tag:{atrium_air_staff:1b}}]} run item replace entity @s hotbar.1 with minecraft:firework_star{display:{Name:'{"text":"Spell: Inhale I","color":"gray","italic":false}',Lore:['{"text":"When Cast:","color":"gray","italic":false}','{"text":"This spell creates a burst"}','{"text":"of air in a line 8.5 blocks"}','{"text":"long and 2.5 blocks wide"}','{"text":"emenating from the caster."}','{"text":"Non-player entities caught"}','{"text":"in the line are dragged"}','{"text":"towards the caster."}']},atrium_power_slot:1b,atrium_power:1b,CustomModelData:333016} 1
execute if data entity @s {Inventory:[{Slot:-106b,tag:{atrium_air_staff:1b}}]} run item replace entity @s hotbar.7 with minecraft:firework_star{display:{Name:'{"text":"Spell: Exhale I","color":"gray","italic":false}',Lore:['{"text":"When Cast:","color":"gray","italic":false}','{"text":"This spell creates a burst"}','{"text":"of air in a line 8.5 blocks"}','{"text":"long and 2.5 blocks wide"}','{"text":"emenating from the caster."}','{"text":"Non-player entities caught"}','{"text":"in the line thrown away"}','{"text":"from the caster."}']},atrium_power_slot:7b,atrium_power:1b,CustomModelData:333017} 1
#
# Earth | Slot 0: Earth Sigil | Slot 8: Natural Armor | Slot 1: Locate Ore | Slot 7: Conjure Tree | Slot 4: Return
execute if data entity @s {Inventory:[{Slot:-106b,tag:{atrium_earth_staff:1b}}]} run item replace entity @s hotbar.0 with minecraft:firework_star{display:{Name:'{"text":"Spell: Earth Sigil II","color":"gray","italic":false}',Lore:['{"text":"When Cast:","color":"gray","italic":false}','{"text":"Ask the little stone sprites "}','{"text":"for help. They idle for "}','{"text":"24 seconds, and anyone "}','{"text":"who stands near them gains "}','{"text":"Haste I for 4 minutes."}']},atrium_power_slot:0b,atrium_power:1b,CustomModelData:333006} 1
execute if data entity @s {Inventory:[{Slot:-106b,tag:{atrium_earth_staff:1b}}]} run item replace entity @s hotbar.8 with minecraft:firework_star{display:{Name:'{"text":"Spell: Natural Armor II","color":"gray","italic":false}',Lore:['{"text":"When Cast:","color":"gray","italic":false}','{"text":"This spell grants you magical"}','{"text":"armor. Provided you are"}','{"text":"not wearing physical"}','{"text":"armor, you gain Resistance I"}','{"text":"for 30 minutes."}']},atrium_power_slot:8b,atrium_power:1b,CustomModelData:333007}
execute if data entity @s {Inventory:[{Slot:-106b,tag:{atrium_earth_staff:1b}}]} run item replace entity @s hotbar.1 with minecraft:firework_star{display:{Name:'{"text":"Spell: Locate Ore I","color":"gray","italic":false}',Lore:['{"text":"When Cast:","color":"gray","italic":false}','{"text":"Sends out vibrations in a 9x9"}','{"text":"cube centered on the caster."}','{"text":"Any ore blocks within the"}','{"text":"cube are illuminated for"}','{"text":"30 seconds, allowing the"}','{"text":"caster to easily locate them."}']},atrium_power_slot:1b,atrium_power:1b,CustomModelData:333018} 1
execute if data entity @s {Inventory:[{Slot:-106b,tag:{atrium_earth_staff:1b}}]} run item replace entity @s hotbar.7 with minecraft:firework_star{display:{Name:'{"text":"Spell: Conjure Tree I","color":"gray","italic":false}',Lore:['{"text":"When Cast:","color":"gray","italic":false}','{"text":"Conjures a small tree, as the"}','{"text":"name might imply. The conjured"}','{"text":"tree is fleeting, and will"}','{"text":"vanish after 2 minutes of life."}','{"text":"This spell may only conjure"}','{"text":"trees and tree-like plants"}','{"text":"if the ground in front of the"}','{"text":"caster can support such growth."}']},atrium_power_slot:7b,atrium_power:1b,CustomModelData:333019} 1
#
# Fire | Slot 0: Fire Sigil | Slot 8: Throw Flames | Slot 1: Flare | Slot 7: Stoke Furnace | Slot 4: Meteor
execute if data entity @s {Inventory:[{Slot:-106b,tag:{atrium_fire_staff:1b}}]} run item replace entity @s hotbar.0 with minecraft:firework_star{display:{Name:'{"text":"Spell: Fire Sigil II","color":"gray","italic":false}',Lore:['{"text":"When Cast:","color":"gray","italic":false}','{"text":"Burns a symbol into the ground"}','{"text":"on casting. 12 seconds later,"}','{"text":"it bursts into flame in a "}','{"text":"2-block radius; Any entities "}','{"text":"caught in the radius"}','{"text":"are set on fire."}']},atrium_power_slot:0b,atrium_power:1b,CustomModelData:333008} 1
execute if data entity @s {Inventory:[{Slot:-106b,tag:{atrium_fire_staff:1b}}]} run item replace entity @s hotbar.8 with minecraft:firework_star{display:{Name:'{"text":"Spell: Throw Flames II","color":"gray","italic":false}',Lore:['{"text":"When Cast:","color":"gray","italic":false}','{"text":"You hurl flames at your foes."}','{"text":"Any entity in an 8-block cone "}','{"text":"in front of you is set on fire."}']},atrium_power_slot:8b,atrium_power:1b,CustomModelData:333009}
execute if data entity @s {Inventory:[{Slot:-106b,tag:{atrium_fire_staff:1b}}]} run item replace entity @s hotbar.1 with minecraft:firework_star{display:{Name:'{"text":"Spell: Flare I","color":"gray","italic":false}',Lore:['{"text":"When Cast:","color":"gray","italic":false}','{"text":"Creates a flare above the"}','{"text":"caster\'s head that illuminates"}','{"text":"the area for 2 minutes."}','{"text":"The flare cannot be extinguished"}','{"text":"by water, but goes out"}','{"text":"if a block is placed on it."}']},atrium_power_slot:1b,atrium_power:1b,CustomModelData:333020} 1
execute if data entity @s {Inventory:[{Slot:-106b,tag:{atrium_fire_staff:1b}}]} run item replace entity @s hotbar.7 with minecraft:firework_star{display:{Name:'{"text":"Spell: Stoke Furnace I","color":"gray","italic":false}',Lore:['{"text":"When Cast:","color":"gray","italic":false}','{"text":"Causes the flames within"}','{"text":"a single Furnace, Blast Furnace"}','{"text":"or Smoker in front of the"}','{"text":"caster to burn hotter; The spell"}','{"text":"fuels the block as much"}','{"text":"as a Lava Bucket would (1000 seconds)."}']},atrium_power_slot:7b,atrium_power:1b,CustomModelData:333021} 1
#
# Water | Slot 0: Water Sigil | Slot 8: Extinguish | Slot 1: Turn Tide | Slot 7: Undercurrent | Slot 4: Flush
execute if data entity @s {Inventory:[{Slot:-106b,tag:{atrium_water_staff:1b}}]} run item replace entity @s hotbar.0 with minecraft:firework_star{display:{Name:'{"text":"Spell: Water Sigil II","color":"gray","italic":false}',Lore:['{"text":"When Cast:","color":"gray","italic":false}','{"text":"Summons a raincloud that lasts"}','{"text":"2 minutes. While the rain falls,"}','{"text":"Beets, Carrots, Potatoes"}','{"text":"and Wheat grow at an"}','{"text":"accelerated rate within a"}','{"text":"3x3 square."}']},atrium_power_slot:0b,atrium_power:1b,CustomModelData:333010} 1
execute if data entity @s {Inventory:[{Slot:-106b,tag:{atrium_water_staff:1b}}]} run item replace entity @s hotbar.8 with minecraft:firework_star{display:{Name:'{"text":"Spell: Extinguish II","color":"gray","italic":false}',Lore:['{"text":"When Cast:","color":"gray","italic":false}','{"text":"Any entities within a 10-block"}','{"text":"radius of the caster that"}','{"text":"are burning are extinguished."}']},atrium_power_slot:8b,atrium_power:1b,CustomModelData:333011}
execute if data entity @s {Inventory:[{Slot:-106b,tag:{atrium_water_staff:1b}}]} run item replace entity @s hotbar.1 with minecraft:firework_star{display:{Name:'{"text":"Spell: Turn Tide I","color":"gray","italic":false}',Lore:['{"text":"When Cast:","color":"gray","italic":false}','{"text":"Heals one living target"}','{"text":"within 6 blocks of the"}','{"text":"caster that is touching Water."}','{"text":"The target restores 4 of its"}','{"text":"lost Hearts and is cured"}','{"text":"of any Poison affecting it."}']},atrium_power_slot:1b,atrium_power:1b,CustomModelData:333022} 1
execute if data entity @s {Inventory:[{Slot:-106b,tag:{atrium_water_staff:1b}}]} run item replace entity @s hotbar.7 with minecraft:firework_star{display:{Name:'{"text":"Spell: Undercurrent I","color":"gray","italic":false}',Lore:['{"text":"When Cast:","color":"gray","italic":false}','{"text":"Creates a bubble column which"}','{"text":"pushes the caster upwards,"}','{"text":"or pulls the caster downwards"}','{"text":"if the caster is Sneaking."}','{"text":"This spell has no effect"}','{"text":"unless the caster is underwater."}']},atrium_power_slot:7b,atrium_power:1b,CustomModelData:333023} 1
#
# Time | Slot 0: Time Sigil | Slot 8: Desync | Slot 1: Extend Duration | Slot 7: Rewind Item | Slot 4: Contingency
execute if data entity @s {Inventory:[{Slot:-106b,tag:{atrium_time_staff:1b}}]} run item replace entity @s hotbar.0 with minecraft:firework_star{display:{Name:'{"text":"Spell: Time Sigil II","color":"gray","italic":false}',Lore:['{"text":"When Cast:","color":"gray","italic":false}','{"text":"Conjures a symbol of power."}','{"text":"12 seconds after casting,"}','{"text":"each entity within a"}','{"text":"3-block radius of the sigil"}','{"text":"is afflicted with Slowness III"}','{"text":"and gains Slow Falling."}','{"text":"Both effects last for"}','{"text":"40 seconds."}']},atrium_power_slot:0b,atrium_power:1b,CustomModelData:333012} 1
execute if data entity @s {Inventory:[{Slot:-106b,tag:{atrium_time_staff:1b}}]} run item replace entity @s hotbar.8 with minecraft:firework_star{display:{Name:'{"text":"Spell: Desync II","color":"gray","italic":false}'},Lore:['{"text":"When Cast:","color":"gray","italic":false}','{"text":"Creates a circle of slow time."}','{"text":"Entities that enter the"}','{"text":"outside of the circle"}','{"text":" are afflicted with"}','{"text":"Slowness II, while entities"}','{"text":"in the center of the circle"}','{"text":"gain Speed II."}','{"text":"The circle lasts 30 seconds."}'],atrium_power_slot:8b,atrium_power:1b,CustomModelData:333013}
execute if data entity @s {Inventory:[{Slot:-106b,tag:{atrium_time_staff:1b}}]} run item replace entity @s hotbar.1 with minecraft:firework_star{display:{Name:'{"text":"Spell: Extend Duration I","color":"gray","italic":false}',Lore:['{"text":"When Cast:","color":"gray","italic":false}','{"text":"Heals one living target"}','{"text":"within 6 blocks of the"}','{"text":"caster that is touching Water."}','{"text":"The target restores 4 of its"}','{"text":"lost Hearts and is cured"}','{"text":"of any Poison affecting it."}']},atrium_power_slot:1b,atrium_power:1b,CustomModelData:333024} 1
execute if data entity @s {Inventory:[{Slot:-106b,tag:{atrium_time_staff:1b}}]} run item replace entity @s hotbar.7 with minecraft:firework_star{display:{Name:'{"text":"Spell: Rewind Item I","color":"gray","italic":false}',Lore:['{"text":"When Cast:","color":"gray","italic":false}','{"text":"Creates a bubble column which"}','{"text":"pushes the caster upwards,"}','{"text":"or pulls the caster downwards"}','{"text":"if the caster is Sneaking."}','{"text":"This spell has no effect"}','{"text":"unless the caster is underwater."}']},atrium_power_slot:7b,atrium_power:1b,CustomModelData:333025} 1
#
# Space | Slot 0: Space Sigil | Slot 8: Parallax | Slot 1: Arcane Ward | Slot 7: Pocket Item | Slot 4: Shift
execute if data entity @s {Inventory:[{Slot:-106b,tag:{atrium_space_staff:1b}}]} run item replace entity @s hotbar.0 with minecraft:firework_star{display:{Name:'{"text":"Spell: Space Sigil II","color":"gray","italic":false}',Lore:['{"text":"When Cast:","color":"gray","italic":false}','{"text":"Etches an arcane anchor"}','{"text":"into the ground. 15 seconds"}','{"text":"later space folds itself,"}','{"text":"returning you to the sigil"}','{"text":"instantly."}']},atrium_power_slot:0b,atrium_power:1b,CustomModelData:333014} 1
execute if data entity @s {Inventory:[{Slot:-106b,tag:{atrium_space_staff:1b}}]} run item replace entity @s hotbar.8 with minecraft:firework_star{display:{Name:'{"text":"Spell: Parallax II","color":"gray","italic":false}',Lore:['{"text":"When Cast:","color":"gray","italic":false}','{"text":"Banishes one entity you are"}','{"text":"looking at within 3 blocks"}','{"text":"to a pocket dimension for "}','{"text":"8 seconds."}']},atrium_power_slot:8b,atrium_power:1b,CustomModelData:333015}
execute if data entity @s {Inventory:[{Slot:-106b,tag:{atrium_space_staff:1b}}]} run item replace entity @s hotbar.1 with minecraft:firework_star{display:{Name:'{"text":"Spell: Arcane Ward I","color":"gray","italic":false}',Lore:['{"text":"When Cast:","color":"gray","italic":false}','{"text":"Heals one living target"}','{"text":"within 6 blocks of the"}','{"text":"caster that is touching Water."}','{"text":"The target restores 4 of its"}','{"text":"lost Hearts and is cured"}','{"text":"of any Poison affecting it."}']},atrium_power_slot:1b,atrium_power:1b,CustomModelData:333026} 1
execute if data entity @s {Inventory:[{Slot:-106b,tag:{atrium_space_staff:1b}}]} run item replace entity @s hotbar.7 with minecraft:firework_star{display:{Name:'{"text":"Spell: Pocket Item I","color":"gray","italic":false}',Lore:['{"text":"When Cast:","color":"gray","italic":false}','{"text":"Creates a bubble column which"}','{"text":"pushes the caster upwards,"}','{"text":"or pulls the caster downwards"}','{"text":"if the caster is Sneaking."}','{"text":"This spell has no effect"}','{"text":"unless the caster is underwater."}']},atrium_power_slot:7b,atrium_power:1b,CustomModelData:333027} 1