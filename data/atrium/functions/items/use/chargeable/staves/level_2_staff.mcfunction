# Runs from hold_chargeable_item
#
# If there are items in the two left-most slot and the right-most slot of your hotbar that are not power slots, drop them.
execute if data entity @s {Inventory:[{Slot:0b}]} unless data entity @s {Inventory:[{Slot:0b,tag:{atrium_power:1b}}]} run function atrium:items/slot_control/drop_item_0
execute if data entity @s {Inventory:[{Slot:8b}]} unless data entity @s {Inventory:[{Slot:8b,tag:{atrium_power:1b}}]} run function atrium:items/slot_control/drop_item_8
execute if data entity @s {Inventory:[{Slot:1b}]} unless data entity @s {Inventory:[{Slot:1b,tag:{atrium_power:1b}}]} run function atrium:items/slot_control/drop_item_1
execute if data entity @s {Inventory:[{Slot:7b}]} unless data entity @s {Inventory:[{Slot:7b,tag:{atrium_power:1b}}]} run function atrium:items/slot_control/drop_item_7
# ^ These are for new spells later
# Now that the slots are empty (items cannot be picked up again for 2 ticks), give the caster their spell options.
#
#
# Air | Slot 0: Air Sigil | Slot 8: Increase Velocity | Slot 1: Inhale | Slot 7: Exhale
execute if data entity @s {Inventory:[{Slot:-106b,tag:{atrium_air_staff:1b}}]} run item replace entity @s hotbar.0 with minecraft:firework_star{display:{Name:'{"text":"Spell: Air Sigil II","color":"gray","italic":false}',Lore:['{"text":"When Cast:","color":"gray","italic":false}','{"text":"A 1-block radius wind column"}','{"text":"is created at your location for"}','{"text":"24 seconds. The column"}','{"text":"levitates entities for "}','{"text":"2 seconds each time they enter"}','{"text":"the column. Additionally,"}','{"text":"the column causes arrows"}','{"text":"that fly into it to be"}','{"text":"thrown directly upwards."}']},atrium_power_slot:0b,atrium_power:1b,CustomModelData:333004} 1
execute if data entity @s {Inventory:[{Slot:-106b,tag:{atrium_air_staff:1b}}]} run item replace entity @s hotbar.8 with minecraft:firework_star{display:{Name:'{"text":"Spell: Increase Velocity II","color":"gray","italic":false}',Lore:['{"text":"When Cast:","color":"gray","italic":false}','{"text":"Grants the caster Jump Boost II"}','{"text":"for 120 seconds, or Speed II"}','{"text":"for 120 seconds if the caster"}','{"text":"is Sprinting."}']},atrium_power_slot:8b,atrium_power:1b,CustomModelData:333005} 1
execute if data entity @s {Inventory:[{Slot:-106b,tag:{atrium_air_staff:1b}}]} run item replace entity @s hotbar.1 with minecraft:firework_star{display:{Name:'{"text":"Spell: Inhale I","color":"gray","italic":false}',Lore:['{"text":"When Cast:","color":"gray","italic":false}','{"text":"This spell creates a burst"}','{"text":"of air in a line 8.5 blocks"}','{"text":"long and 2.5 blocks wide"}','{"text":"emenating from the caster."}','{"text":"Non-player entities caught"}','{"text":"in the line are dragged"}','{"text":"towards the caster."}']},atrium_power_slot:1b,atrium_power:1b,CustomModelData:333016} 1
execute if data entity @s {Inventory:[{Slot:-106b,tag:{atrium_air_staff:1b}}]} run item replace entity @s hotbar.7 with minecraft:firework_star{display:{Name:'{"text":"Spell: Exhale I","color":"gray","italic":false}',Lore:['{"text":"When Cast:","color":"gray","italic":false}','{"text":"This spell creates a burst"}','{"text":"of air in a line 8.5 blocks"}','{"text":"long and 2.5 blocks wide"}','{"text":"emenating from the caster."}','{"text":"Non-player entities caught"}','{"text":"in the line thrown away"}','{"text":"from the caster."}']},atrium_power_slot:7b,atrium_power:1b,CustomModelData:333017} 1
#
# Earth | Slot 0: Earth Sigil | Slot 8: Natural Armor | Slot 1: Locate Ore | Slot 7: 
execute if data entity @s {Inventory:[{Slot:-106b,tag:{atrium_earth_staff:1b}}]} run item replace entity @s hotbar.0 with minecraft:firework_star{display:{Name:'{"text":"Spell: Earth Sigil II","color":"gray","italic":false}',Lore:['{"text":"When Cast:","color":"gray","italic":false}','{"text":"Ask the little stone sprites "}','{"text":"for help. They idle for "}','{"text":"24 seconds, and anyone "}','{"text":"who stands near them gains "}','{"text":"Haste I for 4 minutes."}']},atrium_power_slot:0b,atrium_power:1b,CustomModelData:333006} 1
execute if data entity @s {Inventory:[{Slot:-106b,tag:{atrium_earth_staff:1b}}]} run item replace entity @s hotbar.8 with minecraft:firework_star{display:{Name:'{"text":"Spell: Natural Armor II","color":"gray","italic":false}',Lore:['{"text":"When Cast:","color":"gray","italic":false}','{"text":"This spell grants you magical"}','{"text":"armor. Provided you are"}','{"text":"not wearing physical"}','{"text":"armor, you gain Resistance I"}','{"text":"for 30 minutes."}']},atrium_power_slot:8b,atrium_power:1b,CustomModelData:333007}
execute if data entity @s {Inventory:[{Slot:-106b,tag:{atrium_earth_staff:1b}}]} run item replace entity @s hotbar.1 with minecraft:firework_star{display:{Name:'{"text":"Spell: Locate Ore I","color":"gray","italic":false}',Lore:['{"text":"When Cast:","color":"gray","italic":false}','{"text":"Sends out vibrations in 5-block"}','{"text":"lines in all directions."}','{"text":"Any ore blocks within the"}','{"text":"lines are illuminated for"}','{"text":""}','{"text":"30 seconds, allowing the"}','{"text":"caster to easily locate them."}']},atrium_power_slot:1b,atrium_power:1b,CustomModelData:333018} 1
#
# Fire | Slot 0: Fire Sigil | Slot 8: Throw Flames
execute if data entity @s {Inventory:[{Slot:-106b,tag:{atrium_fire_staff:1b}}]} run item replace entity @s hotbar.0 with minecraft:firework_star{display:{Name:'{"text":"Spell: Fire Sigil II","color":"gray","italic":false}',Lore:['{"text":"When Cast:","color":"gray","italic":false}','{"text":"Burns a symbol into the ground"}','{"text":"on casting. 12 seconds later,"}','{"text":"it bursts into flame in a "}','{"text":"2-block radius; Any entities "}','{"text":"caught in the radius"}','{"text":"are set on fire."}']},atrium_power_slot:0b,atrium_power:1b,CustomModelData:333008} 1
execute if data entity @s {Inventory:[{Slot:-106b,tag:{atrium_fire_staff:1b}}]} run item replace entity @s hotbar.8 with minecraft:firework_star{display:{Name:'{"text":"Spell: Throw Flames II","color":"gray","italic":false}',Lore:['{"text":"When Cast:","color":"gray","italic":false}','{"text":"You hurl flames at your foes."}','{"text":"Any entity in an 8-block cone "}','{"text":"in front of you is set on fire."}']},atrium_power_slot:8b,atrium_power:1b,CustomModelData:333009}
#
# Water | Slot 0: Water Sigil | Slot 8: Extinguish
execute if data entity @s {Inventory:[{Slot:-106b,tag:{atrium_water_staff:1b}}]} run item replace entity @s hotbar.0 with minecraft:firework_star{display:{Name:'{"text":"Spell: Water Sigil II","color":"gray","italic":false}',Lore:['{"text":"When Cast:","color":"gray","italic":false}','{"text":"Summons a raincloud that lasts"}','{"text":"2 minutes. While the rain falls,"}','{"text":"Beets, Carrots, Potatoes"}','{"text":"and Wheat grow at an"}','{"text":"accelerated rate within a"}','{"text":"3x3 square."}']},atrium_power_slot:0b,atrium_power:1b,CustomModelData:333010} 1
execute if data entity @s {Inventory:[{Slot:-106b,tag:{atrium_water_staff:1b}}]} run item replace entity @s hotbar.8 with minecraft:firework_star{display:{Name:'{"text":"Spell: Extinguish II","color":"gray","italic":false}',Lore:['{"text":"When Cast:","color":"gray","italic":false}','{"text":"Any entities within a 10-block"}','{"text":"radius of the caster that"}','{"text":"are burning are extinguished."}']},atrium_power_slot:8b,atrium_power:1b,CustomModelData:333011}
#
# Time | Slot 0: Time Sigil | Slot 8: Desync
execute if data entity @s {Inventory:[{Slot:-106b,tag:{atrium_time_staff:1b}}]} run item replace entity @s hotbar.0 with minecraft:firework_star{display:{Name:'{"text":"Spell: Time Sigil II","color":"gray","italic":false}',Lore:['{"text":"When Cast:","color":"gray","italic":false}','{"text":"Conjures a symbol of power."}','{"text":"12 seconds after casting,"}','{"text":"each entity within a"}','{"text":"3-block radius of the sigil"}','{"text":"is afflicted with Slowness III"}','{"text":"and gains Slow Falling."}','{"text":"Both effects last for"}','{"text":"40 seconds."}']},atrium_power_slot:0b,atrium_power:1b,CustomModelData:333012} 1
execute if data entity @s {Inventory:[{Slot:-106b,tag:{atrium_time_staff:1b}}]} run item replace entity @s hotbar.8 with minecraft:firework_star{display:{Name:'{"text":"Spell: Desync II","color":"gray","italic":false}'},atrium_power_slot:8b,atrium_power:1b,CustomModelData:333013}
#
# Space | Slot 0: Space Sigil | Slot 8: Parallax
execute if data entity @s {Inventory:[{Slot:-106b,tag:{atrium_space_staff:1b}}]} run item replace entity @s hotbar.0 with minecraft:firework_star{display:{Name:'{"text":"Spell: Space Sigil II","color":"gray","italic":false}',Lore:['{"text":"When Cast:","color":"gray","italic":false}','{"text":"Etches an arcane anchor"}','{"text":"into the ground. 15 seconds"}','{"text":"later space folds itself,"}','{"text":"returning you to the sigil"}','{"text":"instantly."}']},atrium_power_slot:0b,atrium_power:1b,CustomModelData:333014} 1
execute if data entity @s {Inventory:[{Slot:-106b,tag:{atrium_space_staff:1b}}]} run item replace entity @s hotbar.8 with minecraft:firework_star{display:{Name:'{"text":"Spell: Parallax II","color":"gray","italic":false}',Lore:['{"text":"When Cast:","color":"gray","italic":false}','{"text":"Banishes one entity you are"}','{"text":"looking at within 3 blocks"}','{"text":"to a pocket dimension for "}','{"text":"8 seconds."}']},atrium_power_slot:8b,atrium_power:1b,CustomModelData:333015}