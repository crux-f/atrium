# Swaps out items for trades
# (Loot tables are always checking for the previous level)
# Level 2
execute if data entity @s {Inventory:[{tag:{atrium_buy_1_aqua_affinity_book:1}}]} run data modify entity @s Offers.Recipes append value {rewardExp:1b,maxUses:3,xp:4,priceMultiplier:0.05f,buy:{id:"minecraft:emerald",Count:12b},sell:{id:"minecraft:enchanted_book",Count:1b,tag:{display:{Lore:['{"text":"This book contains"}','{"text":"eldritch runes, interspersed"}','{"text":"with excited observations"}','{"text":"about marine biology."}']},atrium_aqua_affinity_storybook:1b,StoredEnchantments:[{id:"minecraft:aqua_affinity",lvl:1s}]}}}
execute if data entity @s {Inventory:[{tag:{atrium_buy_1_shard_touch_pickaxe:1}}]} run data modify entity @s Offers.Recipes append value {rewardExp:1b,maxUses:4,xp:4,priceMultiplier:0.05f,buy:{id:"minecraft:emerald",Count:5b},buyB:{id:"minecraft:golden_pickaxe",Count:1b},sell:{id:"minecraft:golden_pickaxe",Count:1b,tag:{RepairCost:3,Enchantments:[{}],display:{Lore:['{"text":"Shard Touch","italic":false,"color":"gray"}']},atrium_custom_enchantment:1b,atrium_shard_touch_enchanted:1b}}}
execute if data entity @s {Inventory:[{tag:{atrium_sell_1_enchantment_catalyst_focusing:1}}]} run data modify entity @s Offers.Recipes append value {rewardExp:1b,maxUses:16,xp:4,priceMultiplier:0.05f,buy:{id:"minecraft:lapis_block",Count:1b,tag:{display:{Name:'{"text":"Enchantment Catalyst","italic":false}',Lore:['{"text":"Focusing","color":"blue","italic":false}','{"text":" "}','{"text":"Now that you have an"}','{"text":"enchantment you understand,"}','{"text":"it shouldn\'t be too difficult"}','{"text":"to turn up the power a little..."}']},atrium_catalyst_focusing:1b,Enchantments:[{}]}},sell:{id:"minecraft:emerald",Count:8b}}
execute if data entity @s {Inventory:[{tag:{atrium_sell_1_enchantment_catalyst_transforming:1}}]} run data modify entity @s Offers.Recipes append value {rewardExp:1b,maxUses:8,xp:4,priceMultiplier:0.05f,buy:{id:"minecraft:diamond_block",Count:1b,tag:{display:{Name:'{"text":"Enchantment Catalyst","italic":false}',Lore:['{"text":"Transforming","color":"dark_aqua","italic":false}','{"text":" "}','{"text":"Diamonds change the equation,"}','{"text":"somehow. It\'s the basis of"}','{"text":"this whole process. Now"}','{"text":"all you have to figure out"}','{"text":"is... Why."}']},atrium_catalyst_transforming:1b,Enchantments:[{}]}},sell:{id:"minecraft:emerald",Count:16b}}
execute if data entity @s {Inventory:[{tag:{atrium_buy_1_silk_touch_book:1}}]} run data modify entity @s Offers.Recipes append value {rewardExp:1b,maxUses:3,xp:4,priceMultiplier:0.05f,buy:{id:"minecraft:emerald",Count:20b},sell:{id:"minecraft:enchanted_book",Count:1b,tag:{display:{Lore:['{"text":"The margins are full"}','{"text":"of scribbled notes, all"}','{"text":"written in illager."}']},atrium_silk_touch_storybook:1b,StoredEnchantments:[{id:"minecraft:silk_touch",lvl:1s}]}}}
# Level 3
execute if data entity @s {Inventory:[{tag:{atrium_buy_1_infinity_book:1}}]} run data modify entity @s Offers.Recipes append value {rewardExp:1b,maxUses:3,xp:4,priceMultiplier:0.05f,buy:{id:"minecraft:emerald",Count:40b},sell:{id:"minecraft:enchanted_book",Count:1b,tag:{display:{Lore:['{"text":"Reading it makes your"}','{"text":"head spin. Maybe that\'s"}','{"text":"why the book has a padlock."}']},atrium_infinity_storybook:1b,StoredEnchantments:[{id:"minecraft:infinity",lvl:1s}]}}}
execute if data entity @s {Inventory:[{tag:{atrium_buy_1_shard_touch_formula:1}}]} run data modify entity @s Offers.Recipes append value {rewardExp:1b,maxUses:1,xp:4,priceMultiplier:0.05f,buy:{id:"minecraft:emerald",Count:20b},sell:{id:"minecraft:written_book",Count:1b,tag:{pages:['["",{"text":"Shard Touch\\n"},{"text":"[Enchantment Entry]","color":"gray"},{"text":"\\n\\nPickaxes enchanted with Shard Touch are capable of harvesting rare gems and crystals too delicate for a mundane pickaxe (or even one enchanted with Silk Touch).","color":"reset"}]','["",{"text":"Shard Touch\\n"},{"text":"Runic Formula","underlined":true,"color":"gray"},{"text":"\\n[Enchantment]","color":"gray"},{"text":"\\n\\n         ","color":"reset"},{"text":"@","color":"dark_gray","hoverEvent":{"action":"show_text","contents":"[Any unenchanted pickaxe]"}},{"text":"\\n     ","color":"reset"},{"text":">","color":"dark_aqua","hoverEvent":{"action":"show_text","contents":"[Any item enchanted with Silk Touch]"}},{"text":"       ","color":"reset"},{"text":"<","color":"green","hoverEvent":{"action":"show_text","contents":"[Any item enchanted with Fortune]"}},{"text":"\\n x       ","color":"reset"},{"text":"!","color":"green","hoverEvent":{"action":"show_text","contents":"Minimum XP level requirement = 25\\nXP level cost = 2"}},{"text":"       x\\n     x       x\\n         ","color":"reset"},{"text":"?","color":"aqua","hoverEvent":{"action":"show_text","contents":"Enchantment Catalyst [Transforming]"}}]'],title:"❇ Shard Touch",author:"???",generation:1,CustomModelData:333002,HideFlags:32,display:{Lore:['{"italic":false,"underlined":true,"color":"gray","text":"Runic Codex Formulas:"}','{"italic":false,"color":"gray","text":"[Enchantment] Shard Touch"}'],Name:'{"italic":false,"text":"❇ Shard Touch"}'}}}}
execute if data entity @s {Inventory:[{tag:{atrium_buy_1_sentinel_formula:1}}]} run data modify entity @s Offers.Recipes append value {rewardExp:1b,maxUses:1,xp:4,priceMultiplier:0.05f,buy:{id:"minecraft:emerald",Count:20b},sell:{id:"minecraft:written_book",Count:1b,tag:{pages:['["",{"text":"Sentinel\\n"},{"text":"[Enchantment Entry]","color":"gray"},{"text":"\\nBlocking with a Shield enchanted with Sentinel grants Resistance I (+20% Damage Resistance) to the wielder and to any entities standing within 2.5 blocks behind the wielder.","color":"reset"}]','["",{"text":"Sentinel\\n"},{"text":"Runic Formula","underlined":true,"color":"gray"},{"text":"\\n","color":"reset"},{"text":"[Enchantment]","color":"gray"},{"text":"\\n\\n     	","color":"reset"},{"text":"@","color":"dark_gray","hoverEvent":{"action":"show_text","contents":"[Any unenchanted shield]"}},{"text":"\\n 	","color":"reset"},{"text":">","color":"dark_aqua","hoverEvent":{"action":"show_text","contents":"[Any item enchanted with Unbreaking]"}},{"text":"   	","color":"reset"},{"text":"<","color":"dark_green","hoverEvent":{"action":"show_text","contents":"[Any item enchanted with Projectile Protection]"}},{"text":"\\n x   	","color":"reset"},{"text":"!","color":"green","hoverEvent":{"action":"show_text","contents":"Minimum XP level requirement = 25 \\nXP level cost = 2"}},{"text":"   	x\\n 	x   	x\\n     	","color":"reset"},{"text":"?","color":"aqua","hoverEvent":{"action":"show_text","contents":"Enchantment Catalyst [Transforming]"}}]'],title:"❇ Sentinel",author:"???",generation:1,CustomModelData:333002,HideFlags:32,display:{Lore:['{"italic":false,"underlined":true,"color":"gray","text":"Runic Codex Formulas:"}','{"italic":false,"color":"gray","text":"[Enchantment] Sentinel"}'],Name:'{"italic":false,"text":"❇ Sentinel"}'}}}}
execute if data entity @s {Inventory:[{tag:{atrium_buy_1_unbreaking_5_pickaxe:1}}]} run data modify entity @s Offers.Recipes append value {rewardExp:1b,maxUses:1,xp:4,priceMultiplier:0.05f,buy:{id:"minecraft:emerald",Count:45b},buyB:{id:"minecraft:diamond_pickaxe",Count:1b},sell:{id:"minecraft:diamond_pickaxe",Count:1b,tag:{Enchantments:[{id:"minecraft:unbreaking",lvl:5s}]}}}
execute if data entity @s {Inventory:[{tag:{atrium_buy_1_unbreaking_5_axe:1}}]} run data modify entity @s Offers.Recipes append value {rewardExp:1b,maxUses:1,xp:4,priceMultiplier:0.05f,buy:{id:"minecraft:emerald",Count:40b},buyB:{id:"minecraft:diamond_axe",Count:1b},sell:{id:"minecraft:diamond_axe",Count:1b,tag:{Enchantments:[{id:"minecraft:unbreaking",lvl:5s}]}}}
execute if data entity @s {Inventory:[{tag:{atrium_buy_1_unbreaking_5_shovel:1}}]} run data modify entity @s Offers.Recipes append value {rewardExp:1b,maxUses:1,xp:4,priceMultiplier:0.05f,buy:{id:"minecraft:emerald",Count:35b},buyB:{id:"minecraft:diamond_shovel",Count:1b},sell:{id:"minecraft:diamond_shovel",Count:1b,tag:{Enchantments:[{id:"minecraft:unbreaking",lvl:5s}]}}}
# Level 3 or 4
execute if data entity @s {Inventory:[{tag:{atrium_buy_1_mending_trident:1}}]} run data modify entity @s Offers.Recipes append value {rewardExp:1b,maxUses:1,xp:4,priceMultiplier:0.05f,buy:{id:"minecraft:emerald",Count:15b},buyB:{id:"minecraft:trident",Count:1b},sell:{id:"minecraft:trident",Count:1b,tag:{Enchantments:[{id:"minecraft:mending",lvl:1s}]}}}
# Level 4
execute if data entity @s {Inventory:[{tag:{atrium_buy_1_thorns_5_chestplate:1}}]} run data modify entity @s Offers.Recipes append value {rewardExp:1b,maxUses:1,xp:4,priceMultiplier:0.05f,buy:{id:"minecraft:emerald",Count:52b},buyB:{id:"minecraft:diamond_chestplate",Count:1b},sell:{id:"minecraft:diamond_chestplate",Count:1b,tag:{Enchantments:[{id:"minecraft:thorns",lvl:5s}]}}}
execute if data entity @s {Inventory:[{tag:{atrium_buy_1_fire_aspect_3_sword:1}}]} run data modify entity @s Offers.Recipes append value {rewardExp:1b,maxUses:1,xp:4,priceMultiplier:0.05f,buy:{id:"minecraft:emerald",Count:48b},buyB:{id:"minecraft:diamond_sword",Count:1b},sell:{id:"minecraft:diamond_sword",Count:1b,tag:{Enchantments:[{id:"minecraft:fire_aspect",lvl:3s}]}}}
execute if data entity @s {Inventory:[{tag:{atrium_buy_1_fortune_4_pickaxe:1}}]} run data modify entity @s Offers.Recipes append value {rewardExp:1b,maxUses:1,xp:4,priceMultiplier:0.05f,buy:{id:"minecraft:emerald",Count:64b},buyB:{id:"minecraft:diamond_pickaxe",Count:1b},sell:{id:"minecraft:diamond_pickaxe",Count:1b,tag:{Enchantments:[{id:"minecraft:fortune",lvl:4s}]}}}
# Level 5
execute if data entity @s {Inventory:[{tag:{atrium_buy_1_runic_codex:1}}]} run data modify entity @s Offers.Recipes append value {rewardExp:1b,maxUses:1,xp:4,priceMultiplier:0.15f,buy:{id:"minecraft:emerald",Count:36b},buyB:{id:"minecraft:enchantment_table",Count:1b},sell:{id:"minecraft:player_head",Count:1b,tag:{display:{Name:'{"text":"Runic Codex","color":"light_purple","italic":false}',Lore:['{"text":"Space Required:","color":"gray","italic":false}','{"text":"x9,y6,z10","color":"dark_gray","italic":false}','{"text":" "}','{"text":"When Placed:","color":"gray","italic":false}','{"text":"Generates a structure ","color":"blue","italic":false}']},runic_codex_placer:1b,SkullOwner:{Id:[I;453648658,-1501608406,-1743325056,-1172242773],Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvOTUyNjgwNzc0MDkwYTVjZDFjNmZkMDgwYjZkNGFkOTkwZWViYzA0MTE4MjBlMTkyNmM5OWIyMTExZTJjYjRiNyJ9fX0="}]}}}}}