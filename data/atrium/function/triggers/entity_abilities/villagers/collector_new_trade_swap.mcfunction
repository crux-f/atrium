# Swaps out items for trades
# (Loot tables are always checking for the previous level)
# Level 2
execute if data entity @s {Inventory:[{components:{"minecraft:custom_data":{atrium_sell_1_nautilus_shell:1b}}}]} run data modify entity @s Offers.Recipes append value {rewardExp:true,maxUses:6,xp:4,priceMultiplier:0.1f,buy:{id:"minecraft:nautilus_shell",count:1},sell:{id:"minecraft:emerald",count:3}}
# Level 2 or 3
execute if data entity @s {Inventory:[{components:{"minecraft:custom_data":{atrium_buy_1_brush:1b}}}]} run data modify entity @s Offers.Recipes append value {rewardExp:true,maxUses:3,xp:4,priceMultiplier:0.05f,buy:{id:"minecraft:emerald",count:5},sell:{id:"minecraft:brush",count:1}}
# (All pottery sherds have a weight of 1.)
execute if data entity @s {Inventory:[{components:{"minecraft:custom_data":{atrium_sell_1_angler_pottery_sherd:1b}}}]} run data modify entity @s Offers.Recipes append value {rewardExp:true,maxUses:6,xp:4,priceMultiplier:0.1f,buy:{id:"minecraft:angler_pottery_sherd",count:1},sell:{id:"minecraft:emerald",count:8}}
execute if data entity @s {Inventory:[{components:{"minecraft:custom_data":{atrium_sell_1_archer_pottery_sherd:1b}}}]} run data modify entity @s Offers.Recipes append value {rewardExp:true,maxUses:6,xp:4,priceMultiplier:0.1f,buy:{id:"minecraft:archer_pottery_sherd",count:1},sell:{id:"minecraft:emerald",count:12}}
execute if data entity @s {Inventory:[{components:{"minecraft:custom_data":{atrium_sell_1_arms_up_pottery_sherd:1b}}}]} run data modify entity @s Offers.Recipes append value {rewardExp:true,maxUses:6,xp:4,priceMultiplier:0.1f,buy:{id:"minecraft:arms_up_pottery_sherd",count:1},sell:{id:"minecraft:emerald",count:15}}
execute if data entity @s {Inventory:[{components:{"minecraft:custom_data":{atrium_sell_1_blade_pottery_sherd:1b}}}]} run data modify entity @s Offers.Recipes append value {rewardExp:true,maxUses:6,xp:4,priceMultiplier:0.1f,buy:{id:"minecraft:blade_pottery_sherd",count:1},sell:{id:"minecraft:emerald",count:8}}
execute if data entity @s {Inventory:[{components:{"minecraft:custom_data":{atrium_sell_1_brewer_pottery_sherd:1b}}}]} run data modify entity @s Offers.Recipes append value {rewardExp:true,maxUses:6,xp:4,priceMultiplier:0.1f,buy:{id:"minecraft:brewer_pottery_sherd",count:1},sell:{id:"minecraft:emerald",count:15}}
execute if data entity @s {Inventory:[{components:{"minecraft:custom_data":{atrium_sell_1_burn_pottery_sherd:1b}}}]} run data modify entity @s Offers.Recipes append value {rewardExp:true,maxUses:6,xp:4,priceMultiplier:0.1f,buy:{id:"minecraft:burn_pottery_sherd",count:1},sell:{id:"minecraft:emerald",count:12}}
execute if data entity @s {Inventory:[{components:{"minecraft:custom_data":{atrium_sell_1_danger_pottery_sherd:1b}}}]} run data modify entity @s Offers.Recipes append value {rewardExp:true,maxUses:6,xp:4,priceMultiplier:0.1f,buy:{id:"minecraft:danger_pottery_sherd",count:1},sell:{id:"minecraft:emerald",count:1}}
execute if data entity @s {Inventory:[{components:{"minecraft:custom_data":{atrium_sell_1_explorer_pottery_sherd:1b}}}]} run data modify entity @s Offers.Recipes append value {rewardExp:true,maxUses:6,xp:4,priceMultiplier:0.1f,buy:{id:"minecraft:explorer_pottery_sherd",count:1},sell:{id:"minecraft:emerald",count:8}}
execute if data entity @s {Inventory:[{components:{"minecraft:custom_data":{atrium_sell_1_friend_pottery_sherd:1b}}}]} run data modify entity @s Offers.Recipes append value {rewardExp:true,maxUses:6,xp:4,priceMultiplier:0.1f,buy:{id:"minecraft:friend_pottery_sherd",count:1},sell:{id:"minecraft:emerald",count:12}}
execute if data entity @s {Inventory:[{components:{"minecraft:custom_data":{atrium_sell_1_heart_pottery_sherd:1b}}}]} run data modify entity @s Offers.Recipes append value {rewardExp:true,maxUses:6,xp:4,priceMultiplier:0.1f,buy:{id:"minecraft:heart_pottery_sherd",count:1},sell:{id:"minecraft:emerald",count:12}}
execute if data entity @s {Inventory:[{components:{"minecraft:custom_data":{atrium_sell_1_heartbreak_pottery_sherd:1b}}}]} run data modify entity @s Offers.Recipes append value {rewardExp:true,maxUses:6,xp:4,priceMultiplier:0.1f,buy:{id:"minecraft:heartbreak_pottery_sherd",count:1},sell:{id:"minecraft:emerald",count:12}}
execute if data entity @s {Inventory:[{components:{"minecraft:custom_data":{atrium_sell_1_howl_pottery_sherd:1b}}}]} run data modify entity @s Offers.Recipes append value {rewardExp:true,maxUses:6,xp:4,priceMultiplier:0.1f,buy:{id:"minecraft:howl_pottery_sherd",count:1},sell:{id:"minecraft:emerald",count:12}}
execute if data entity @s {Inventory:[{components:{"minecraft:custom_data":{atrium_sell_1_miner_pottery_sherd:1b}}}]} run data modify entity @s Offers.Recipes append value {rewardExp:true,maxUses:6,xp:4,priceMultiplier:0.1f,buy:{id:"minecraft:miner_pottery_sherd",count:1},sell:{id:"minecraft:emerald",count:12}}
execute if data entity @s {Inventory:[{components:{"minecraft:custom_data":{atrium_sell_1_mourner_pottery_sherd:1b}}}]} run data modify entity @s Offers.Recipes append value {rewardExp:true,maxUses:6,xp:4,priceMultiplier:0.1f,buy:{id:"minecraft:mourner_pottery_sherd",count:1},sell:{id:"minecraft:emerald",count:8}}
execute if data entity @s {Inventory:[{components:{"minecraft:custom_data":{atrium_sell_1_plenty_pottery_sherd:1b}}}]} run data modify entity @s Offers.Recipes append value {rewardExp:true,maxUses:6,xp:4,priceMultiplier:0.1f,buy:{id:"minecraft:plenty_pottery_sherd",count:1},sell:{id:"minecraft:emerald",count:8}}
execute if data entity @s {Inventory:[{components:{"minecraft:custom_data":{atrium_sell_1_prize_pottery_sherd:1b}}}]} run data modify entity @s Offers.Recipes append value {rewardExp:true,maxUses:6,xp:4,priceMultiplier:0.1f,buy:{id:"minecraft:prize_pottery_sherd",count:1},sell:{id:"minecraft:emerald",count:12}}
execute if data entity @s {Inventory:[{components:{"minecraft:custom_data":{atrium_sell_1_sheaf_pottery_sherd:1b}}}]} run data modify entity @s Offers.Recipes append value {rewardExp:true,maxUses:6,xp:4,priceMultiplier:0.1f,buy:{id:"minecraft:sheaf_pottery_sherd",count:1},sell:{id:"minecraft:emerald",count:12}}
execute if data entity @s {Inventory:[{components:{"minecraft:custom_data":{atrium_sell_1_shelter_pottery_sherd:1b}}}]} run data modify entity @s Offers.Recipes append value {rewardExp:true,maxUses:6,xp:4,priceMultiplier:0.1f,buy:{id:"minecraft:shelter_pottery_sherd",count:1},sell:{id:"minecraft:emerald",count:8}}
execute if data entity @s {Inventory:[{components:{"minecraft:custom_data":{atrium_sell_1_skull_pottery_sherd:1b}}}]} run data modify entity @s Offers.Recipes append value {rewardExp:true,maxUses:6,xp:4,priceMultiplier:0.1f,buy:{id:"minecraft:skull_pottery_sherd",count:1},sell:{id:"minecraft:emerald",count:12}}
execute if data entity @s {Inventory:[{components:{"minecraft:custom_data":{atrium_sell_1_snort_pottery_sherd:1b}}}]} run data modify entity @s Offers.Recipes append value {rewardExp:true,maxUses:6,xp:4,priceMultiplier:0.1f,buy:{id:"minecraft:snort_pottery_sherd",count:1},sell:{id:"minecraft:emerald",count:8}}
execute if data entity @s {Inventory:[{components:{"minecraft:custom_data":{atrium_sell_1_echo_shard:1b}}}]} run data modify entity @s Offers.Recipes append value {rewardExp:true,maxUses:16,xp:4,priceMultiplier:0.1f,buy:{id:"minecraft:echo_shard",count:1},sell:{id:"minecraft:emerald",count:16}}
execute if data entity @s {Inventory:[{components:{"minecraft:custom_data":{atrium_sell_1_creeper_banner_pattern:1b}}}]} run data modify entity @s Offers.Recipes append value {rewardExp:true,maxUses:6,xp:4,priceMultiplier:0.1f,buy:{id:"minecraft:creeper_banner_pattern",count:1},sell:{id:"minecraft:emerald",count:24}}
execute if data entity @s {Inventory:[{components:{"minecraft:custom_data":{atrium_sell_1_wither_skeleton_skull:1b}}}]} run data modify entity @s Offers.Recipes append value {rewardExp:true,maxUses:3,xp:4,priceMultiplier:0.1f,buy:{id:"minecraft:wither_skeleton_skull",count:1},sell:{id:"minecraft:emerald",count:24}}
# Level 4
# Buying maps is a little more complicated - atm im triggering this with an advancement, which means each map can lead to a different place.
# not ideal but making it more specific is annoying.
execute if data entity @s {Inventory:[{components:{"minecraft:custom_data":{atrium_buy_1_trail_ruins_quest_map:1b}}}]} run data modify entity @s Offers.Recipes append value {rewardExp:true,maxUses:1,xp:4,priceMultiplier:0.2f,buy:{id:"minecraft:emerald",count:16},sell:{id:"minecraft:filled_map",count:1,components:{"minecraft:custom_name":'"Quest Map"',"minecraft:lore":['"An archeological dig site."','"Without any funding to excavate"','"it, the responsibility falls"','"to you. This fellow reckons"','"it has something particularly"','"interesting buried inside."','{"color":"gray","italic":false,"text":"(Feels important.)"}'],"minecraft:custom_data":{atrium_trail_ruins_quest_map:1b,atrium_map_resolved:0b}}}}
execute if data entity @s {Inventory:[{components:{"minecraft:custom_data":{atrium_buy_1_monument_quest_map:1b}}}]} run data modify entity @s Offers.Recipes append value {rewardExp:true,maxUses:1,xp:4,priceMultiplier:0.2f,buy:{id:"minecraft:emerald",count:8},buyB:{id:"minecraft:heart_of_the_sea",count:1},sell:{id:"minecraft:filled_map",count:1,components:{"minecraft:custom_name":'"Quest Map"',"minecraft:lore":['"A lead on how to find an item"','"special to collectors."','"This one leads to a Monument"','"of particular interest."','{"color":"gray","italic":false,"text":"(Feels important.)"}'],"minecraft:custom_data":{atrium_monument_quest_map:1b,atrium_map_resolved:0b},"minecraft:map_color":3830373}}}
execute if data entity @s {Inventory:[{components:{"minecraft:custom_data":{atrium_buy_1_mansion_quest_map:1b}}}]} run data modify entity @s Offers.Recipes append value {rewardExp:true,maxUses:1,xp:4,priceMultiplier:0.2f,buy:{id:"minecraft:emerald",count:8},buyB:{id:"minecraft:totem_of_undying",count:1},sell:{id:"minecraft:filled_map",count:1,components:{"minecraft:custom_name":'"Quest Map"',"minecraft:lore":['"A touchy subject; A noble family of"','"Summoners once stole a"','"powerful item, and sages warn"','"of the damage they could do"','"with it. Ready for a heist?"','{"color":"gray","italic":false,"text":"(Feels important.)"}'],"minecraft:custom_data":{atrium_mansion_quest_map:1b,atrium_map_resolved:0b}}}}
# execute if data entity @s {Inventory:[{components:{"minecraft:custom_data":{atrium_sell_1_nether_star:1b}}}]} run data modify entity @s Offers.Recipes append value {rewardExp:true,maxUses:3,xp:4,priceMultiplier:0.1f,buy:{id:"minecraft:nether_star",count:1},sell:{id:"minecraft:emerald",count:36}}
# execute if data entity @s {Inventory:[{components:{"minecraft:custom_data":{atrium_sell_1_heavy_core:1b}}}]} run data modify entity @s Offers.Recipes append value {rewardExp:true,maxUses:3,xp:4,priceMultiplier:0.1f,buy:{id:"minecraft:heavy_core",count:1},sell:{id:"minecraft:emerald",count:64}}
# Level 5
execute if data entity @s {Inventory:[{components:{"minecraft:custom_data":{atrium_buy_1_helm_of_finding:1b}}}]} run data modify entity @s Offers.Recipes append value {rewardExp:true,maxUses:1,xp:4,priceMultiplier:0.05f,buy:{id:"minecraft:emerald",count:48},sell:{id:"minecraft:iron_helmet",count:1,components:{"minecraft:trim":{material:"minecraft:diamond",pattern:"minecraft:raiser"},"minecraft:attribute_modifiers":[{id:"atrium:helm_of_finding_armor",type:"armor",amount:2,operation:"add_value",slot:"head"},{id:"atrium:helm_of_finding_luck",type:"luck",amount:1,operation:"add_value",slot:"hand"}],"minecraft:item_name":'"Helm of Finding"',"minecraft:rarity":"uncommon"}}}