# Revoke for retrigger
advancement revoke @s only atrium:triggers/items/placeable_structures/place_alchemy_cauldron_item
#
# Finding placeholder that was just placed. At the location where the placeholder is, run the space validation.
# Running as the player who placed it to deliver failure messages if necessary and to record the UUID of the player who placed this station.
execute at @s as @s anchored eyes positioned ^ ^ ^1 if block ~ ~ ~ minecraft:player_head{components:{"minecraft:custom_data":{alchemy_cauldron_placer:1b}}} run function atrium:items/use/placeable_structures/alchemy_cauldron/validate_cauldron_space_req
execute at @s as @s anchored eyes positioned ^ ^0.5 ^1 if block ~ ~ ~ minecraft:player_head{components:{"minecraft:custom_data":{alchemy_cauldron_placer:1b}}} run function atrium:items/use/placeable_structures/alchemy_cauldron/validate_cauldron_space_req
execute at @s as @s anchored eyes positioned ^ ^-0.5 ^1 if block ~ ~ ~ minecraft:player_head{components:{"minecraft:custom_data":{alchemy_cauldron_placer:1b}}} run function atrium:items/use/placeable_structures/alchemy_cauldron/validate_cauldron_space_req
execute at @s as @s anchored eyes positioned ^ ^ ^1.5 if block ~ ~ ~ minecraft:player_head{components:{"minecraft:custom_data":{alchemy_cauldron_placer:1b}}} run function atrium:items/use/placeable_structures/alchemy_cauldron/validate_cauldron_space_req
execute at @s as @s anchored eyes positioned ^ ^ ^2 if block ~ ~ ~ minecraft:player_head{components:{"minecraft:custom_data":{alchemy_cauldron_placer:1b}}} run function atrium:items/use/placeable_structures/alchemy_cauldron/validate_cauldron_space_req
execute at @s as @s anchored eyes positioned ^ ^0.5 ^2 if block ~ ~ ~ minecraft:player_head{components:{"minecraft:custom_data":{alchemy_cauldron_placer:1b}}} run function atrium:items/use/placeable_structures/alchemy_cauldron/validate_cauldron_space_req
execute at @s as @s anchored eyes positioned ^ ^-0.5 ^2 if block ~ ~ ~ minecraft:player_head{components:{"minecraft:custom_data":{alchemy_cauldron_placer:1b}}} run function atrium:items/use/placeable_structures/alchemy_cauldron/validate_cauldron_space_req
execute at @s as @s anchored eyes positioned ^ ^ ^2.5 if block ~ ~ ~ minecraft:player_head{components:{"minecraft:custom_data":{alchemy_cauldron_placer:1b}}} run function atrium:items/use/placeable_structures/alchemy_cauldron/validate_cauldron_space_req
execute at @s as @s anchored eyes positioned ^ ^0.5 ^3 if block ~ ~ ~ minecraft:player_head{components:{"minecraft:custom_data":{alchemy_cauldron_placer:1b}}} run function atrium:items/use/placeable_structures/alchemy_cauldron/validate_cauldron_space_req
execute at @s as @s anchored eyes positioned ^ ^-0.5 ^3 if block ~ ~ ~ minecraft:player_head{components:{"minecraft:custom_data":{alchemy_cauldron_placer:1b}}} run function atrium:items/use/placeable_structures/alchemy_cauldron/validate_cauldron_space_req
execute at @s as @s anchored eyes positioned ^ ^ ^3 if block ~ ~ ~ minecraft:player_head{components:{"minecraft:custom_data":{alchemy_cauldron_placer:1b}}} run function atrium:items/use/placeable_structures/alchemy_cauldron/validate_cauldron_space_req
execute at @s as @s anchored eyes positioned ^ ^ ^3.5 if block ~ ~ ~ minecraft:player_head{components:{"minecraft:custom_data":{alchemy_cauldron_placer:1b}}} run function atrium:items/use/placeable_structures/alchemy_cauldron/validate_cauldron_space_req
execute at @s as @s anchored eyes positioned ^ ^ ^4 if block ~ ~ ~ minecraft:player_head{components:{"minecraft:custom_data":{alchemy_cauldron_placer:1b}}} run function atrium:items/use/placeable_structures/alchemy_cauldron/validate_cauldron_space_req
execute at @s as @s anchored eyes positioned ^ ^0.5 ^4 if block ~ ~ ~ minecraft:player_head{components:{"minecraft:custom_data":{alchemy_cauldron_placer:1b}}} run function atrium:items/use/placeable_structures/alchemy_cauldron/validate_cauldron_space_req
execute at @s as @s anchored eyes positioned ^ ^-0.5 ^4 if block ~ ~ ~ minecraft:player_head{components:{"minecraft:custom_data":{alchemy_cauldron_placer:1b}}} run function atrium:items/use/placeable_structures/alchemy_cauldron/validate_cauldron_space_req
execute at @s as @s anchored eyes positioned ^ ^ ^4.5 if block ~ ~ ~ minecraft:player_head{components:{"minecraft:custom_data":{alchemy_cauldron_placer:1b}}} run function atrium:items/use/placeable_structures/alchemy_cauldron/validate_cauldron_space_req
execute at @s as @s anchored eyes positioned ^ ^ ^5 if block ~ ~ ~ minecraft:player_head{components:{"minecraft:custom_data":{alchemy_cauldron_placer:1b}}} run function atrium:items/use/placeable_structures/alchemy_cauldron/validate_cauldron_space_req
execute at @s as @s anchored eyes positioned ^ ^-0.5 ^5 if block ~ ~ ~ minecraft:player_head{components:{"minecraft:custom_data":{alchemy_cauldron_placer:1b}}} run function atrium:items/use/placeable_structures/alchemy_cauldron/validate_cauldron_space_req
execute at @s as @s anchored eyes positioned ^ ^0.5 ^5 if block ~ ~ ~ minecraft:player_head{components:{"minecraft:custom_data":{alchemy_cauldron_placer:1b}}} run function atrium:items/use/placeable_structures/alchemy_cauldron/validate_cauldron_space_req
