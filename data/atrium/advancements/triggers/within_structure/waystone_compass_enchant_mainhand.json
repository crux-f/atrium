{
    "criteria": {
      "requirement": {
        "trigger": "minecraft:item_used_on_block",
        "conditions": {
          "player": [
            {
              "condition": "minecraft:entity_properties",
              "entity": "this",
              "predicate": {
                "equipment": {
                  "mainhand": {
                    "items": [
                      "minecraft:compass"
                    ],
                    "count": 1
                  }
                }
              }
            },
            {
              "condition": "minecraft:inverted",
              "term": {
                "condition": "minecraft:entity_properties",
                "entity": "this",
                "predicate": {
                  "equipment": {
                    "offhand": {
                      "items": [
                        "minecraft:compass"
                      ]
                    }
                  }
                }
              }
            },
            {
              "condition": "minecraft:alternative",
              "terms": [
                {
                  "condition": "minecraft:location_check",
                  "predicate": {
                    "structure": "atrium:abyss_waystone"
                  }
                },
                {
                  "condition": "minecraft:location_check",
                  "predicate": {
                    "structure": "atrium:depths_waystone"
                  }
                },
                {
                  "condition": "minecraft:location_check",
                  "predicate": {
                    "structure": "atrium:meridian_waystone"
                  }
                },
                {
                  "condition": "minecraft:location_check",
                  "predicate": {
                    "structure": "atrium:end_waystone"
                  }
                },
                {
                  "condition": "minecraft:location_check",
                  "predicate": {
                    "structure": "atrium:nether_waystone"
                  }
                },
                {
                  "condition": "minecraft:location_check",
                  "predicate": {
                    "structure": "atrium:overworld_waystone"
                  }
                }
              ]
            }
          ],
          "item": {
            "items": [
              "minecraft:compass"
            ]
          }
        }
      }
    },
    "rewards": {
      "function": "atrium:triggers/within_structure/waystone_compass_enchant_mainhand"
    }
  }
  